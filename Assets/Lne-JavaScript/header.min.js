
let mouseUpTriggered = false; // 用于记录是否已经触发过鼠标移入事件
let loginQuery = false; // 初始登录框不可见
const random = document.getElementById('random-post')
let navQuery = false; // 初始登录框不可见

document.getElementById('sidebar-nav').addEventListener('mouseup', sidebar_nav);
document.getElementById('no-sidebar-show').addEventListener('mouseup', hide_sidebar_nav);

function sidebar_nav(e) {
  document.getElementById('sidebar-nav-blcok').classList.add('show-sidebar-nav');
  navQuery = true;
}

function hide_sidebar_nav(e) {
  document.getElementById('sidebar-nav-blcok').classList.remove('show-sidebar-nav');
  navQuery = false;
}



if (random) {
  random.addEventListener('mouseover', mouseover);
  random.addEventListener('mouseleave', mouseleave);

  function mouseover(e) {
    if (!mouseUpTriggered) {
      document.getElementById('random-show').classList.add('random-show', 'animate__animated', 'animate__fadeIn', 'animate__slow');
      mouseUpTriggered = true; // 设置标志为已触发
    }
  }

  function mouseleave(e) {
    mouseUpTriggered = false; // 重置标志为未触发
    document.getElementById('random-show').classList.remove('random-show', 'animate__animated', 'animate__fadeIn', 'animate__slow');
  }
}



document.getElementById('user-login').addEventListener('mouseup', mouseup);
function mouseup(e) {
  if (loginQuery) {
    document.getElementById('login-box').classList.remove('login-show');
    document.getElementById('login-box').classList.replace('animate__fadeInDown', 'animate__fadeOutDown');
  } else {
    document.getElementById('login-box').classList.add('login-show', 'animate__animated', 'animate__fadeInDown');
    document.getElementById('login-box').classList.replace('animate__fadeOutDown', 'animate__fadeInDown', 'animate__slow');
  }
  loginQuery = !loginQuery
}
