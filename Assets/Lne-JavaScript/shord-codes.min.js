let plyr_video = document.getElementById("len_plyr_video");
//获取点击事件和触发事件的ID
//折叠面板
let flod = document.querySelectorAll('#flod-show')
let flod_box = document.querySelectorAll('#flod-box');
//隐藏内容
let cick = document.querySelectorAll('.len-shored-codes-click-view')
let cick_box = document.querySelectorAll('.len-click-view-text');


if (plyr_video || flod || cick) {
  /**
   * 创建视频样式脚本文件
   */
  const player = new Plyr(plyr_video, {
    i18n: {
      speed: "速度",
      normal: "正常",
    },
    loop: {
      active: true
    },
    speed: {
      selected: 1,
      options: [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2, 3, 4],
    },
    disableContextMenu: true
  });

  /**
   * 展开面板脚本文件
   */
  flod.forEach(function (element_flod) {
    element_flod.addEventListener('mouseup', function (e) {
      foltmouseup(element_flod);
    });
  });
  // 展开面板脚本文件
  function foltmouseup(clickedElement_flod) {
    // 找到当前点击元素对应的 flod-box 元素
    let flod_box_min = clickedElement_flod.nextElementSibling;
    // 移除其他 flod-box 元素的 fold-show 类
    flod_box.forEach(function (box) {
      if (box !== flod_box_min) {
        box.classList.remove('fold-show');
      }
    });
    // 切换当前点击元素对应的 flod-box 元素的 fold-show 类
    flod_box_min.classList.toggle('fold-show');
    // 切换动画类
    flod_box_min.classList.toggle('animate__animated');
    flod_box_min.classList.toggle('animate__flipInX');
  }

  /**
   * 点击显示内容脚本文件
   */
  cick.forEach(function (element_click) {
    element_click.addEventListener('mouseup', function (c) {
      clickmouseup(element_click);
    });
  });
  // 展开面板脚本文件
  function clickmouseup(clickedElement_click) {
    // 找到当前点击元素对应的 cick-box 元素
    let cick_box_min = clickedElement_click.querySelector('.len-click-view-text');
    // 移除其他 cick-box 元素的 len-click-view-text 类
    cick_box.forEach(function (box) {
      if (box !== cick_box_min) {
        box.classList.remove('click-show');
      }
    });
    // 切换当前点击元素对应的 cick-box 元素的 fold-show 类
    cick_box_min.classList.toggle('click-show');
    // 切换动画类
    cick_box_min.classList.toggle('animate__animated');
    cick_box_min.classList.toggle('animate__fadeIn');
  }

}

